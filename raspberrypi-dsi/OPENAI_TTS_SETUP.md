# 🤖 OpenAI TTS 語音升級指南

將您的甦醒地圖語音品質升級到 **AI 等級**！

## ✨ 為什麼選擇 OpenAI TTS？

| 特點 | Festival/espeak | **OpenAI TTS** |
|------|----------------|----------------|
| 🎵 **語音品質** | 機器人聲音 | **真人級別自然度** |
| 🌍 **多語言支援** | 有限 | **超過 50 種語言** |
| 🗣️ **中文支援** | 不佳 | **完美的中文發音** |
| 🎭 **語音情感** | 單調 | **豐富表情和語調** |
| 📱 **音質** | 16kHz | **24kHz 高保真** |

---

## 🚀 快速設定（3 分鐘完成）

### 1. 執行自動設定工具
```bash
cd raspberrypi-dsi
python3 setup_openai_tts.py
```

### 2. 獲取 OpenAI API 金鑰
1. 訪問 [OpenAI API Keys](https://platform.openai.com/api-keys)
2. 登入或註冊帳戶
3. 點擊 **"Create new secret key"**
4. 複製金鑰（格式：`sk-...`）

### 3. 完成設定
- 工具會自動安裝必要庫
- 保存 API 金鑰到配置文件
- 切換到 OpenAI TTS 引擎
- 可選：測試語音品質

---

## 🎵 語音選項

OpenAI 提供 6 種高品質語音：

| 語音 | 特色 | 適用場景 |
|------|------|----------|
| **nova** ⭐ | 明亮、活潑的女性聲音 | **推薦！適合故事朗讀** |
| alloy | 平衡、通用的聲音 | 日常使用 |
| echo | 男性、清晰的聲音 | 正式場合 |
| fable | 溫暖、敘事風格 | 童話故事 |
| onyx | 深沉、穩重的聲音 | 新聞播報 |
| shimmer | 輕柔、優雅的聲音 | 放鬆場景 |

---

## 💰 費用說明

OpenAI TTS 費用極低：
- **$0.015 / 1K 字符**
- 一個故事（~100字）≈ **$0.0015** (約 NT$0.05)
- 每日使用估計費用 < **NT$2**

### 免費配額
新用戶通常有 $5 免費額度，足夠測試數千次！

---

## 🧪 測試和驗證

### 測試語音品質
```bash
python3 setup_openai_tts.py  # 選擇測試選項
```

### 測試完整系統
```bash
python3 run_updated_system.py
```

### 專門測試中文
```bash
python3 test_chinese_voice.py
```

---

## 🔧 進階配置

### 調整語音設定
編輯 `config.py` 中的 OpenAI 配置：

```python
# OpenAI TTS 配置
'openai_model': 'tts-1-hd',    # 高品質模型
'openai_voice': 'nova',         # 語音選擇
'openai_speed': 1.0,           # 語速 (0.25-4.0)
```

### 模型選擇
- **`tts-1`** - 標準品質，更快速
- **`tts-1-hd`** - 高品質，稍慢但更自然

---

## 🛠️ 故障排除

### ❌ "OpenAI 庫未安裝"
```bash
pip3 install openai
```

### ❌ "API 金鑰無效"
- 確認金鑰格式：`sk-...`
- 檢查是否已設定付費方式
- 驗證帳戶狀態

### ❌ "請求失敗"
- 檢查網路連接
- 確認 API 配額充足
- 查看錯誤日誌

### ❌ "音頻轉換失敗"
安裝音頻轉換工具：
```bash
sudo apt update
sudo apt install ffmpeg sox
```

---

## 📊 品質對比

### 🎧 實際效果對比

| 文本 | Festival | **OpenAI TTS** |
|------|----------|----------------|
| "今天的你在台北甦醒" | 🤖 機器人中文 | **🗣️ 自然流利中文** |
| "Bonjour! Bonne journée!" | ❌ 無法正確發音 | **✅ 完美法語腔調** |
| "Доброе утро, Москва!" | ❌ 俄語支援差 | **✅ 地道俄語發音** |

---

## 🌟 升級效果

使用 OpenAI TTS 後，您的甦醒地圖將：

- ✨ **語音更自然** - 告別機器人聲音
- 🌍 **多語言完美** - 50+ 語言地道發音  
- 📖 **故事更動聽** - 中文故事如真人朗讀
- 🎭 **情感豐富** - 聲音有溫度和表情
- 🔊 **音質更佳** - 24kHz 高保真音質

---

## 🆘 需要幫助？

1. **查看日誌**：檢查錯誤詳情
2. **測試工具**：使用內建測試驗證
3. **重新設定**：重新執行 `setup_openai_tts.py`
4. **備用方案**：系統會自動回退到 Festival/espeak

---

**🎉 享受 AI 級別的語音體驗吧！** 