# 🖥️ 樹莓派桌面快捷方式設置說明

## 📋 概述

這個指南將幫助你在Raspberry Pi桌面上創建甦醒地圖的快捷方式，讓你可以通過雙擊圖標來啟動應用程式。

## 🚀 快速設置

### 步驟 1: 創建桌面快捷方式

在樹莓派終端中執行以下命令：

```bash
# 進入項目目錄
cd ~/pi/subjective-clock/raspberrypi-dsi

# 給腳本執行權限
chmod +x create-desktop-shortcut.sh

# 執行創建腳本
./create-desktop-shortcut.sh
```

### 步驟 2: 使用桌面快捷方式

1. 桌面上會出現「甦醒地圖」圖標
2. 雙擊圖標啟動應用程式
3. 選擇啟動模式（推薦選擇 1 正常啟動）
4. 等待應用程式載入完成

## 📁 創建的文件

設置過程會創建以下文件：

- `~/Desktop/甦醒地圖.desktop` - 桌面快捷方式文件
- `wakeup-map-launcher.sh` - 用戶友好的啟動器
- `../icon-192x192.png` - 使用項目中的應用程式圖標

## 🎛️ 啟動選項

啟動器提供以下選項：

1. **正常啟動** (推薦)
   - 標準啟動模式
   - 適合日常使用

2. **調試模式啟動**
   - 顯示詳細的調試信息
   - 適合排除問題

3. **查看系統狀態**
   - 檢查Python版本
   - 檢查運行中的進程
   - 檢查瀏覽器狀態

## 🛠️ 手動設置（如果自動設置失敗）

如果自動設置腳本無法運行，你可以手動創建桌面快捷方式：

### 手動創建 .desktop 文件

```bash
# 創建桌面快捷方式文件
cat > ~/Desktop/甦醒地圖.desktop << 'EOF'
[Desktop Entry]
Version=1.0
Type=Application
Name=甦醒地圖
Name[en]=WakeUp Map
Comment=啟動甦醒地圖應用程式
Comment[en]=Start WakeUp Map Application
Icon=/home/future/pi/subjective-clock/icon-192x192.png
Exec=/home/future/pi/subjective-clock/raspberrypi-dsi/wakeup-map-launcher.sh
Terminal=true
StartupNotify=false
Categories=Application;Education;
Path=/home/future/pi/subjective-clock/raspberrypi-dsi
EOF

# 設置執行權限
chmod +x ~/Desktop/甦醒地圖.desktop
```

### 設置腳本權限

```bash
cd ~/pi/subjective-clock/raspberrypi-dsi
chmod +x start-wakeup-map.sh
chmod +x wakeup-map-launcher.sh
chmod +x stop-wakeup-map.sh
```

## 🔧 故障排除

### 問題：雙擊圖標沒有反應

**解決方案：**
1. 確認文件有執行權限：
   ```bash
   ls -la ~/Desktop/甦醒地圖.desktop
   ```
2. 手動設置權限：
   ```bash
   chmod +x ~/Desktop/甦醒地圖.desktop
   ```

### 問題：終端開啟但立即關閉

**解決方案：**
1. 檢查腳本路徑是否正確
2. 確認所有腳本文件都有執行權限
3. 在終端中手動執行測試：
   ```bash
   cd ~/pi/subjective-clock/raspberrypi-dsi
   ./wakeup-map-launcher.sh
   ```

### 問題：找不到圖標

**解決方案：**
1. 圖標是可選的，不影響功能
2. 確認項目目錄中存在 `icon-192x192.png` 文件
3. 如果圖標缺失，會自動使用系統預設圖標

## 🎯 使用提示

1. **首次使用**：可能需要確認執行權限
2. **終端視窗**：不要關閉終端視窗，否則應用程式會停止
3. **停止應用程式**：使用 `./stop-wakeup-map.sh` 或關閉終端
4. **重新啟動**：如果應用程式無響應，先停止再重新啟動

## 📞 技術支援

如果遇到問題：

1. 檢查日誌文件：`../logs/wakeup-map.log`
2. 查看終端輸出的錯誤信息
3. 確認樹莓派的 DSI 顯示器連接正常
4. 檢查網路連接（需要連接 Firebase）

---

**祝使用愉快！🌅**