# 基於時間的線性緯度映射系統

## 概述
用戶按下「開始這一天」按鈕時，系統會基於當前時間的**分鐘數**來線性映射目標緯度，然後找到最接近該緯度的城市。

## 實現細節

### 緯度映射公式
```javascript
const targetLatitude = 90 - (minutes * 180 / 59);
```

### 映射範例
- **0分** → **北緯90°** (北極地區)
- **15分** → **北緯44.2°** (高緯度，如莫斯科附近) 
- **30分** → **南緯1.5°** (接近赤道，如印尼)
- **45分** → **南緯47.3°** (南半球高緯度，如紐西蘭南部)
- **59分** → **南緯90°** (南極地區)

### 系統流程
1. `calculateTargetLatitudeFromTime()`: 基於當前時間分鐘數計算目標緯度
2. **find-city-geonames API**: 接收 `targetLatitude` 參數
3. **緯度距離計算**: 計算所有候選城市與目標緯度的距離
4. **智能選擇**: 優先考慮時區匹配，然後選擇緯度最接近的城市

## 技術優勢

### 1. 精確性
- 直接基於數值緯度，不是模糊的分類
- 每分鐘約3度的緯度變化，提供細膩的變化

### 2. 全球覆蓋
- 真正涵蓋從北極到南極的完整緯度範圍
- 自動處理南北半球切換

### 3. 時間敏感性
- 每分鐘產生不同結果
- 30分鐘為赤道分界點，符合直覺

## 實際影響範例

### 北半球時段 (0-29分)
- **8分**: 目標北緯65.5° → 可能選到雷克雅維克、安克拉治
- **15分**: 目標北緯44.2° → 可能選到紐約、多倫多  
- **29分**: 目標北緯1.5° → 可能選到新加坡、香港

### 南半球時段 (30-59分)
- **35分**: 目標南緯13.7° → 可能選到雅加達、蘇瓦
- **45分**: 目標南緯47.3° → 可能選到紐西蘭南部城市
- **55分**: 目標南緯78.3° → 接近南極，可能回到宇宙模式

## 備用機制
當目標緯度過於極端（如極地區域）沒有對應城市時，系統會：
1. 在所有候選時區城市中選擇緯度最接近的
2. 如果仍無合適城市，觸發「宇宙模式」

## 用戶體驗
- 視覺提示顯示實際目標緯度和地理區域描述
- 日誌記錄包含完整的緯度映射資訊
- 向後兼容舊的緯度偏好分類系統 